---
const year = new Date().getFullYear();
const pathname = Astro.url?.pathname || "/";
const isRu = pathname.startsWith("/ru");
const links = isRu
  ? [{ href: "/ru/privacy", label: "Политика конфиденциальности" }]
  : [
      { href: "/en/privacy", label: "Privacy Policy" },
      { href: "/en/cookies", label: "Cookie Policy" },
    ];
---
<footer
  class="mt-12 border-t border-black/10 dark:border-white/10 bg-white/70 dark:bg-[#0b0c10]/70 backdrop-blur supports-[backdrop-filter]:bg-white/60 supports-[backdrop-filter]:dark:bg-[#0b0c10]/60"
>
  <div class="cv-root mx-auto w-full max-w-[var(--bookme-max-w,960px)] px-4 py-8 md:py-10">
    <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-6">
      <div class="min-w-0">
        <p class="text-sm leading-relaxed text-gray-800 dark:text-gray-100">
          © {year} Dima Bond. All rights reserved.
        </p>
        <p class="text-xs text-gray-600 dark:text-gray-400 mt-1">
          {isRu
            ? "Этот сайт использует файлы cookies. Продолжая пользоваться сайтом, вы соглашаетесь с условиями, описанными в Политике конфиденциальности."
            : "This site uses cookies. By continuing to browse, you agree to the terms described in the Privacy and Cookie Policies."
          }
        </p>
      </div>

      <nav class="flex flex-wrap items-center gap-x-6 gap-y-3 text-sm">
        {links.map((l) => (
          <a
            href={l.href}
            class="ui-outline rounded px-2 py-1 text-gray-800 dark:text-gray-100 hover:opacity-90 focus-visible:outline-2"
          >
            {l.label}
          </a>
        ))}
      </nav>
    </div>
  </div>
</footer>

<style>
  /* Fallback if ui-outline isn't global */
  .ui-outline { outline: 1px solid color-mix(in oklch, currentColor 22%, transparent); }
</style>
