---
interface Props { 
  locale: 'en' | 'ru' 
}

const { locale } = Astro.props;

// Текущий путь без префикса локали
const path = Astro.url.pathname.replace(/^\/(en|ru)/, '') || '/about';
const targetLocale = locale === 'en' ? 'ru' : 'en';
const targetHref = `/${targetLocale}${path}`;
const label = locale.toUpperCase(); // показываем текущую локаль на кнопке
---

<style>
  .lang-switch {
    display: inline-flex; 
    align-items: center;
    border: 1px solid rgba(0,0,0,.08);
    background: rgba(255,255,255,.6);
    backdrop-filter: blur(6px);
    border-radius: 999px; 
    padding: 6px 14px;
    font-size: .9rem; 
    color: #001111; 
    text-decoration: none;
    transition: background .2s ease, transform .05s ease;
  }
  .lang-switch:hover { 
    background: rgba(0,0,0,.04); 
  }
  .lang-switch:active { 
    transform: translateY(1px); 
  }
</style>

<a class="lang-switch" href={targetHref} aria-label={`Switch to ${targetLocale.toUpperCase()}`}>
  {label}
</a>
